<div class="bd-results-wrapper-area">
  <div class="bd-results-map">
    <!-- id is required.  Element must be display:block and have width and height.  -->
    <!-- To display multipe maps on the same page, be sure to give each map a unique id -->
    <bd-map id="communitiesMap" markers="communities" filters="[urlFilter]" max-zoom="13" marker-icon="/images/map-markers/map-pin-green.png" popup-template="communitiesPopup.html" marker-width="31" marker-height="46"> </bd-map>
    <!-- id matches popup-template attribute of bd-map element above-->
    <script type="text/ng-template" id="communitiesPopup.html"> <img src="{{logo.contentUrl|thumbnail:170:113:true}}" style="width:170px; height:113px;">
      <div class="map-popup-text">
        <h4>{{name}}</h4>
        <ul class="list-unstyled">
          <li ng-if="priceLow" class="hidden-sm hidden-xs"><strong>From: </strong>{{priceLow|currency:$:0}}</li>
          <li ng-if="status" class="hidden-sm hidden-xs"><strong>Status: </strong>{{status}}</li>
          <li><a href="/communities/{{uniqueName}}" class="btn">View Details</a></li>
        </ul>
      </div>
    </script>
  </div>
  <div class="bd-results-list">
    <div class="container">
      <ul class="list-unstyled results-wrapper results-zigzag">
        <li class="result result-zigzag" ng-repeat="community in communities | filter:urlFilter | orderBy:order_field">
          <div class="result-media" ng-style="{'background-image':'url('+community.logo.contentUrl+')'}"></div>
          <div class="result-content">
            <div class="takeover">
              <div class="centering-table">
                <div class="centering-table-cell">
                  <h4 class="result-title">{{community.name}}</h4>
                  <ul>
                    <li><strong>price range</strong> {{community.priceLow | currency:"$":0}} - {{community.priceHigh | currency:"$":0}}</li>
                    <li><strong>SQFT range</strong> {{community.sqftLow|number}} - {{community.sqftHigh|number}}</li>
                    <!-- <li ng-if="community.hours"><strong>Model Home Hours:</strong> <span ng-bind-html="community.hours|nl2br"></span></li>-->
                  </ul>
                  <div> <a class="btn" href ui-sref="community({com_id:community.uniqueName, '#':null})">learn more</a></div>
                </div>
              </div>
            </div>
          </div>
        </li>
      </ul>
    </div>
  </div>
</div>
<ng-include src="'/components/state-info.html'"></ng-include>
